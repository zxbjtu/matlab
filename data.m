clear all
data1 = load('1.txt');
data2 = load('2.txt');
k = load('标定结果.txt');
kx = k(:,1);
ky = k(:,2);
u = data1(:,1);
v = data1(:,2);
u2 = u.^2;
v2 = v.^2;
uv = u.*v;
u3 = u.^3;
v3 = v.^3;
u2v = u.^2.*v;
uv2 = u.*v.^2;
u4 = u.^4;
v4 = v.^4;
u3v = u.^3.*v;
u2v2 = u.^2.*v.^2;
uv3 = u.*v.^3;
v4 = v.^4;
X1 = kx(1)+kx(2).*u+kx(3).*v+kx(4).*uv+kx(5).*u2+kx(6).*v2+kx(7).*u3+kx(8).*u2v+kx(9).*uv2+kx(10).*v3;
Y1 = ky(1)+ky(2).*u+ky(3).*v+ky(4).*uv+ky(5).*u2+ky(6).*v2+ky(7).*u3+ky(8).*u2v+ky(9).*uv2+ky(10).*v3;
u = data2(:,1);
v = data2(:,2);
u2 = u.^2;
v2 = v.^2;
uv = u.*v;
u3 = u.^3;
v3 = v.^3;
u2v = u.^2.*v;
uv2 = u.*v.^2;
u4 = u.^4;
v4 = v.^4;
u3v = u.^3.*v;
u2v2 = u.^2.*v.^2;
uv3 = u.*v.^3;
v4 = v.^4;
X2 = kx(1)+kx(2).*u+kx(3).*v+kx(4).*uv+kx(5).*u2+kx(6).*v2+kx(7).*u3+kx(8).*u2v+kx(9).*uv2+kx(10).*v3;
Y2 = ky(1)+ky(2).*u+ky(3).*v+ky(4).*uv+ky(5).*u2+ky(6).*v2+ky(7).*u3+ky(8).*u2v+ky(9).*uv2+ky(10).*v3;
line1 = [X1,Y1];
line2 = [X2,Y2];
line3 = line1(line1(:,2)>30&line1(:,2)<40,:);
line4 = line2(line2(:,2)>30&line2(:,2)<40,:);
meanZ1 = mean(line3(:,1));
meanZ2 = mean(line4(:,1));
meanZ1-meanZ2